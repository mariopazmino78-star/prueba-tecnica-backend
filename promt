Necesito que generes el cÃ³digo completo para una prueba tÃ©cnica de Backend Developer.

REQUISITOS:

ğŸ“¦ Proyecto: prueba-tecnica-backend

ğŸ“ ESTRUCTURA:
prueba-tecnica-backend/
â”œâ”€â”€ README.md (principal con explicaciÃ³n de ambos retos)
â”œâ”€â”€ .gitignore
â”‚
â”œâ”€â”€ reto1_user_service/
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ user.py
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ user_routes.py
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ database.py
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ .env.example
â”‚   â”œâ”€â”€ docker-compose.yml (para levantar con MongoDB local)
â”‚   â””â”€â”€ README.md
â”‚
â””â”€â”€ reto2_microservices/
    â”œâ”€â”€ orders_service/
    â”‚   â”œâ”€â”€ main.py
    â”‚   â”œâ”€â”€ models/
    â”‚   â”‚   â””â”€â”€ order.py
    â”‚   â”œâ”€â”€ routes/
    â”‚   â”‚   â””â”€â”€ orders.py
    â”‚   â”œâ”€â”€ config/
    â”‚   â”‚   â”œâ”€â”€ database.py
    â”‚   â”‚   â””â”€â”€ rabbit.py
    â”‚   â”œâ”€â”€ Dockerfile
    â”‚   â””â”€â”€ requirements.txt
    â”‚
    â”œâ”€â”€ notifications_service/
    â”‚   â”œâ”€â”€ consumer.py
    â”‚   â”œâ”€â”€ config/
    â”‚   â”‚   â””â”€â”€ rabbit.py
    â”‚   â”œâ”€â”€ Dockerfile
    â”‚   â””â”€â”€ requirements.txt
    â”‚
    â”œâ”€â”€ docker-compose.yml (levanta TODO: MongoDB, RabbitMQ, ambos servicios)
    â”œâ”€â”€ .env.example.local (variables para Docker local)
    â”œâ”€â”€ .env.example.railway (variables para Railway con servicios externos)
    â””â”€â”€ README.md

---

RETO 1 - USER SERVICE:
- FastAPI con endpoints: POST /users, GET /users/{id}, PUT /users/{id}, DELETE /users/{id}
- MongoDB async con Motor
- Pydantic para validaciones (UserCreate, UserUpdate, UserResponse)
- Encriptar password con bcrypt
- Middleware que mida tiempo de respuesta y loggee en consola
- Usar variables de entorno (MONGODB_URI)
- CÃ³digo que funcione tanto local (mongodb://mongodb:27017) como Railway (mongodb+srv://...)

RETO 2 - MICROSERVICES:
- orders_service: 
  * POST /orders (campos: product_name, quantity, customer_email)
  * Guarda en MongoDB
  * Publica mensaje en RabbitMQ cola "orders_queue"
  
- notifications_service:
  * Consumer que escucha "orders_queue"
  * Imprime: "New order received: {order_id}"
  
- Usar variables de entorno (MONGODB_URI, RABBITMQ_URL)
- CÃ³digo que funcione tanto local (amqp://rabbitmq:5672) como Railway (amqps://cloudamqp.com/...)

---

IMPORTANTE:
1. El CÃ“DIGO debe ser IDÃ‰NTICO para local y Railway
2. Solo cambian las VARIABLES DE ENTORNO
3. Usar os.getenv() para todas las configuraciones
4. Incluir manejo de errores y try/except
5. Logs claros en consola
6. Comentarios explicativos en cÃ³digo crÃ­tico
7. docker-compose.yml funcional para levantar TODO local
8. README.md detallados con:
   - CÃ³mo levantar local (docker-compose up)
   - CÃ³mo configurar Railway (MongoDB Atlas + CloudAMQP)
   - Ejemplos de curl/Postman
   - Variables de entorno para ambos ambientes

STACK:
- Python 3.11
- FastAPI
- Motor (MongoDB async)
- Pydantic v2
- bcrypt
- pika (RabbitMQ)
- uvicorn

Por favor genera TODO el cÃ³digo completo, archivo por archivo, listo para usar.